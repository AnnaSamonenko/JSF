<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<f:view>
    <h3>Companies:</h3>
    <h:dataTable id="companyTable" value="#{companyBean.findAllCompanies()}" var="i" border="1">

        <h:column>
            <f:facet name="header"> id </f:facet>
            #{i.id}
        </h:column>

        <h:column>
            <f:facet name="header"> Name of company </f:facet>
            #{i.companyName}
        </h:column>

        <h:column>
            <f:facet name="header"> Location </f:facet>
            #{i.companyLocation}
        </h:column>

        <h:column>
            <f:facet name="header"> Company foundation year </f:facet>
            #{i.companyFoundationYear}
        </h:column>

        <h:column>
            <f:facet name="header">
                Amount of shares
            </f:facet>
            #{i.shares.size()}
        </h:column>
    </h:dataTable>
    <hr/>
    <h3>Add company:</h3>
    <h:form id="addCompany">
        Company name: <h:inputText value="#{company.companyName}"/><br/><br/>
        Company location: <h:inputText value="#{company.companyLocation}"/><br/><br/>
        Company foundation year: <h:inputText value="#{company.companyFoundationYear}"/><br/><br/>
        <h:commandButton value="Add" action="#{companyBean.create(company)}">
            <f:ajax execute="addCompany" render="companyTable"/>
        </h:commandButton>
    </h:form>
    <hr/>
    <h3>Update company:</h3>
    <h:form id="updateCompany">
        Company name: <h:inputText value="#{company.companyName}"/><br/><br/>
        Company location: <h:inputText value="#{company.companyLocation}"/><br/><br/>
        Company foundation year: <h:inputText value="#{company.companyFoundationYear}"/><br/><br/>
        Company id: <h:inputText value="#{company.id}"/><br/><br/>
        <h:commandButton value="Update" action="#{companyBean.update(company.id, company)}">
            <f:ajax execute="updateCompany" render="companyTable"/>
        </h:commandButton>
    </h:form>
    <hr/>
    <h3>Delete company:</h3>
    <h:form id="deleteCompany">
        Company id: <h:inputText value="#{company.id}"/><br/><br/>
        <h:commandButton value="Delete" action="#{companyBean.delete(company.id)}">
            <f:ajax execute="deleteCompany" render="companyTable"/>
        </h:commandButton>
    </h:form>
</f:view>
</html>
